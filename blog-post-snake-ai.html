<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description"
        content="How I built a Snake AI showdown with 7 different AI strategies in pure JavaScript. A fun exploration of game AI concepts!">
    <meta name="author" content="Katzir">
    <title>How I Built a Snake AI Showdown</title>
    <link rel="icon" href="assets/img/A_flat_digital_vector_illustration_of_a_unicorn_he.png" type="image/png" />
    <link rel="stylesheet" href="assets/css/styles.css">

    <style>
        body {
            color: #333;
            background: #f7f7f7;
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
        }

        .blog-post {
            max-width: 700px;
            margin: 2rem auto;
            padding: 2rem;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            text-align: left;
        }

        .blog-post h1 {
            font-size: 2rem;
            color: #1a1a1a;
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .blog-post h2,
        .blog-post h3 {
            margin-top: 2rem;
            color: #2e7df6;
            font-weight: 600;
        }

        .meta {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 2rem;
        }

        .blog-post p {
            margin-bottom: 1.25rem;
        }

        .blog-post pre {
            background: #f0f0f0;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .blog-post code {
            background: #f0f0f0;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'Fira Mono', monospace;
        }

        .blog-post blockquote {
            border-left: 4px solid #2e7df6;
            padding-left: 1rem;
            color: #555;
            margin: 1.5rem 0;
        }

        a {
            color: #2e7df6;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.2s;
        }

        a:hover {
            border-color: #2e7df6;
            color: #2e7df6;
        }

        .back-link {
            display: inline-block;
            margin-top: 2rem;
            font-weight: 500;
        }

        header.site-header,
        footer.site-footer {
            background: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        header.site-header h1 {
            margin: 0;
            font-size: 1.5rem;
            color: #2e7df6;
        }

        header.site-header .meta {
            margin: 0.5rem 0 0;
            font-size: 0.9rem;
            color: #777;
        }

        footer.site-footer {
            text-align: center;
            font-size: 0.9rem;
            color: #888;
            margin-top: 3rem;
        }
    </style>

</head>

<body>
    <div class="nav-placeholder" id="nav-placeholder"></div>

    <main class="container">
        <article class="blog-post">
            <header>
                <h1>ğŸ How I Built a Snake AI Showdown (And Accidentally Learned Game AI)</h1>
                <p class="meta">By Katzir â€¢ June 22, 2025</p>
            </header>

            <p>Hey there! If youâ€™re a PM like meâ€”fascinated by game AI but intimidated by all the math-y jargonâ€”this is
                for you. A few weekends ago I thought, â€œWhat if I built a Snake game that plays itself?â€ Seven snakes,
                each with its own brain:
                <strong>1. Random</strong>, <strong>2. Greedy</strong>, <strong>3. Tail-Aware</strong>, <strong>4.
                    Loop-Safe</strong>, <strong>5. Lookahead</strong>, <strong>6. Expectimax</strong>, and <strong>7.
                    MCTS</strong>.
                The result? The most fun Iâ€™ve ever had with vanilla JavaScript.
            </p>
            <p>This post is half tutorial, half war story. Weâ€™ll explore how each AI worksâ€”<strong>why</strong> it makes
                its moves, not just <em>what</em> it doesâ€”and Iâ€™ll sprinkle in debugging anecdotes so you can laugh (or
                cry) along. Ready?</p>
            <P><a href="http://ikatzir.com/SnakeAI" target="_blank">Try the live demo first â†’</a></P>
            <p><a href="https://github.com/ItakatzI/SnakeAI" target="_blank">Check it out on GitHub â†’</a></p>

            <h2>ğŸ¤– Demystifying Game AI</h2>
            <p>Game AI isnâ€™t magicâ€”itâ€™s code that answers one question:</p>
            <blockquote>â€œWhere should the snake move next?â€</blockquote>
            <p>Each brain implements a different decision rule, from chaos to clever planning.</p>

            <h2>ğŸ® Seven AIs, One Arena</h2>
            <ul>
                <li>ğŸŸ¥ <strong>Random AI</strong> â€” zero planning, pure chaos</li>
                <li>ğŸŸ§ <strong>Greedy AI</strong> â€” A* to apple, ignores safety</li>
                <li>ğŸŸ¨ <strong>Tail-Aware AI</strong> â€” checks survival after apple</li>
                <li>ğŸŸ© <strong>Loop-Safe AI</strong> â€” adds loop detection & restart</li>
                <li>ğŸ”µ <strong>Lookahead AI</strong> â€” depth-3 minimax planning</li>
                <li>ğŸŸ£ <strong>Expectimax AI</strong> â€” depth-2 expectimax with chance nodes</li>
                <li>âš« <strong>MCTS AI</strong> â€” Monte Carlo rollouts for expected survival</li>
            </ul>
            <p>All in pure HTML/CSS/JSâ€”no frameworks required.</p>

            <h2>ğŸ“¦ Project Structure</h2>
            <pre><code>snake-ai-showdown/
â”œâ”€â”€ index.html
â”œâ”€â”€ game.html
â”œâ”€â”€ style.css
â”œâ”€â”€ snake.js
â””â”€â”€ README.md
</code></pre>
            <p>Each AI gets its own &lt;canvas&gt; and a fresh copy of the Snake logic.</p>

            <h2>ğŸ§  AI Deep Dive: Theory & Code</h2>

            <h3>1. ğŸŸ¥ Random AI</h3>
            <p><strong>Theory:</strong> No planning. Every tick, pick one of the legal neighbors at random.</p>
            <pre><code>function chooseRandom() {
  const moves = getValidMoves(head);
  return moves[Math.floor(Math.random() * moves.length)];
}</code></pre>
            <p><em>Anecdote:</em> It often dies on the very first moveâ€”hilarity ensues.</p>

            <h3>2. ğŸŸ§ Greedy AI (A*)</h3>
            <p><strong>Theory:</strong> A* searches for the shortest grid path to the apple using
                <code>f(n)=g(n)+h(n)</code>, with Manhattan <code>h</code>.
            </p>
            <pre><code>function chooseGreedy() {
  const path = aStar(head, apple);
  return path ? path[1] : null;
}</code></pre>
            <p>Fastâ€”but blind; it often crashes into its own tail.</p>

            <h3>3. ğŸŸ¨ Tail-Aware AI</h3>
            <p><strong>Theory:</strong> â€œIf I take that apple, can I still reach my tail afterward?â€</p>
            <pre><code>function chooseTailAware() {
  const pA = aStar(head, apple);
  if (pA && isPathSafe(pA)) return pA[1];
  const pT = aStar(head, tail);
  return pT ? pT[1] : chooseRandom();
}</code></pre>
            <p><strong>isPathSafe(path)</strong> simulates growing along <code>path</code> then checks headâ†’tail
                reachability.</p>

            <h3>4. ğŸŸ© Loop-Safe AI</h3>
            <p><strong>Theory:</strong> Tail-Aware plus loop detection & auto-restart:</p>
            <ol>
                <li>Try apple if safe</li>
                <li>Else chase tail</li>
                <li>Else random</li>
                <li>If stuck (200 ticks + &lt;10 unique heads), <code>restart()</code></li>
            </ol>
            <pre><code>function chooseLoopSafe() {
  if (isSafe(pathToApple)) return pathToApple[1];
  if (pathToTail) return pathToTail[1];
  if (isStuckInLoop()) { restart(); return; }
  return chooseRandom();
}</code></pre>

            <h3>5. ğŸ”µ Lookahead AI</h3>
            <p><strong>Theory:</strong> Minimax to depth 3. Simulate your own moves, score each future state by</p>
            <ul>
                <li>Distance to apple (closer = better)</li>
                <li>Available free space (more = safer)</li>
                <li>Snake length (longer = better)</li>
            </ul>
            <pre><code>function chooseLookahead(depth=3) {
  let best, bestScore = -Infinity;
  for (let mv of getNeighbors(head)) {
    const state = simulateState(snake, apple, mv);
    const score = minimax(state, depth-1);
    if (score > bestScore) { bestScore = score; best = mv; }
  }
  return best;
}</code></pre>

            <h3>6. ğŸŸ£ Expectimax AI</h3>
            <p><strong>Theory:</strong> Like lookahead, but treat the appleâ€spawn as a â€œchanceâ€ nodeâ€”average over N
                random spawns.</p>
            <pre><code>function chooseExpectimax(depth=2) {
  // maximize over your moves, then average over random apple positions
}</code></pre>

            <h3>7. âš« MCTS AI</h3>
            <p><strong>Theory:</strong> For each next move, run 15 short random playouts (max 30 steps) on a cloned
                state,
                pick the move with highest average survival length.</p>
            <pre><code>function chooseMCTS(sims=15, maxSteps=30) {
  // for each move: sum(simulateRandomPlay(simState, maxSteps)); return argmax;
}</code></pre>

            <h2>ğŸ”§ Key Functions Explained</h2>

            <h3><code>getValidMoves(head)</code></h3>
            <p>Returns adjacent cells not blocked by walls or your body.</p>

            <h3><code>aStar(start, goal)</code></h3>
            <p>Classic A* with Manhattan heuristic, returns path[] or <code>null</code>.</p>

            <h3><code>isPathSafe(path)</code></h3>
            <p>Grow the snake along <code>path</code> then check headâ†’tail reachability via BFS.</p>

            <h3><code>isStuckInLoop()</code></h3>
            <p>Tracks last 200 head positionsâ€”if &lt;10 unique and no length gain, triggers <code>restart()</code>.</p>

            <h3><code>simulateState(snake, apple, move)</code></h3>
            <p>Clones the state, applies one move (grow or pop tail), returns {snake, apple} for planning.</p>

            <h3><code>simulateRandomPlay(state, maxSteps)</code></h3>
            <p>Simulates random moves up to <code>maxSteps</code>, respawns apples properlyâ€”used by MCTS.</p>

            <h2>ğŸ¨ Styling & Layout</h2>
            <p>Flexbox + absoluteâ€positioned canvases for clean tabs. Dark cards, neon borders.</p>
            <pre><code>.tabs { display:flex; }
.pane { position:absolute; }
canvas { aspect-ratio:1/1; }</code></pre>

            <h2>ğŸš€ Deploy on GitHub Pages</h2>
            <pre><code>git init
git add .
git commit -m "Snake AI Showdown"
git remote add origin https://github.com/yourusername/snake-ai-showdown.git
git push -u origin main</code></pre>
            <p>Then GitHub â†’ Settings â†’ Pages â†’ main / root. Live at
                <code>yourusername.github.io/snake-ai-showdown</code>.
            </p>

            <h2>ğŸ§ª Lessons Learned</h2>
            <ul>
                <li>AI = decision rules &amp; planning, not magic</li>
                <li>A* + safety checks beats raw greed</li>
                <li>Planning (minimax) &amp; chanceâ€awareness (expectimax) outlast simple heuristics</li>
                <li>Monte Carlo sampling can approximate complex strategies in JS</li>
                <li>Loop detection &amp; restarts are crucial for survival</li>
            </ul>

            <h2>ğŸ”® Next Up: Genetic Algorithms &amp; Beyond</h2>
            <p>In Part 2, weâ€™ll evolve snakes via a simple GA: genomes of behavior weights, tournaments of survival,
                breeding the fittestâ€”watch emergent AI without hardcoded rules!</p>
            <blockquote>Get ready to seed your snakes with DNA and watch evolution unfold in your browser.</blockquote>

            <div class="back-link">
                <a href="Blog.html">â† Back to all posts</a>
            </div>
        </article>

    </main>
    <footer class="site-footer">
        <div class="container">
            <p>Â© 2025 Katzir. All rights reserved.</p>
        </div>
    </footer>

    <script src="scripts/include-nav.js"></script>
</body>

</html>